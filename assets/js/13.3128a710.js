(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{491:function(t,a,s){"use strict";s.r(a);var e=s(28),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ç¼“å­˜ç›®çš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜ç›®çš„"}},[t._v("#")]),t._v(" ç¼“å­˜ç›®çš„")]),t._v(" "),s("p",[t._v("é€šè¿‡ç½‘ç»œè·å–èµ„æºè´¹æ—¶è´¹åŠ›åˆè´¹ç”µï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¤§å‹ç›¸åº”éœ€è¦åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å¤šæ¬¡å¾€è¿”ã€‚")]),t._v(" "),s("li",[t._v("åœ¨æ‰€æœ‰å…³é”®èµ„æºä¸‹è½½å®Œæ¯•å‰ï¼Œé¡µé¢ä¸ä¼šåŠ è½½ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœç”¨æˆ·ä½¿ç”¨çš„æµé‡æ˜¯æœ‰é™æ”¶è´¹çš„ï¼Œé‚£ä¹ˆæ¯ä¸ªä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚éƒ½åœ¨æµªè´¹ç”¨æˆ·çš„é’±ã€‚")])]),t._v(" "),s("p",[t._v("å¦‚ä½•é¿å…ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚ï¼Ÿæµè§ˆå™¨çš„ HTTP ç¼“å­˜æ˜¯æ‚¨çš„ç¬¬ä¸€é“é˜²çº¿ã€‚è™½ç„¶å®ƒå¹¶éæ˜¯æœ€å¼ºå¤§æˆ–æœ€çµæ´»çš„æ–¹æ³•ï¼Œå¹¶ä¸”å¯¹ç¼“å­˜å“åº”ç”Ÿå‘½å‘¨æœŸçš„æ§åˆ¶æœ‰é™ï¼Œä½†å®ƒå…·æœ‰ä¸€å®šæ•ˆç‡ã€‚\nå¹¶ä¸”\næ‰€æœ‰æµè§ˆå™¨å‡æ”¯æŒï¼Œè€Œä¸”æ— éœ€å¤ªå¤šå·¥ä½œã€‚")]),t._v(" "),s("h2",{attrs:{id:"ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),s("p",[t._v("ç¼“å­˜ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼Œå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚")]),t._v(" "),s("img",{attrs:{src:"/blog/imgs/01å‰ç«¯/browserCachedraw.png",alt:"ç¼“å­˜",width:"500"}}),t._v(" "),s("h2",{attrs:{id:"_1-å¼ºç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¼ºç¼“å­˜"}},[t._v("#")]),t._v(" 1.å¼ºç¼“å­˜")]),t._v(" "),s("p",[t._v("å¼ºç¼“å­˜æ‰€è°“çš„â€œå¼ºâ€ï¼Œ åœ¨äºå¼ºåˆ¶è®©æµè§ˆå™¨æŒ‰ç…§ä¸€å®šæ—¶é—´èŒƒå›´å†…æ¥å­˜å‚¨æ¥è‡ªæœåŠ¡å™¨çš„èµ„æºï¼Œæœ‰ç‚¹å¼ºåˆ¶çš„å‘³é“ï¼Œå¼ºç¼“å­˜æ˜¯åˆ©ç”¨Expiresæˆ–è€…Cache-Controlï¼Œä¸å‘é€\nè¯·æ±‚ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­å–ï¼Œè¯·æ±‚çŠ¶æ€ç ä¼šè¿”å›200ï¼ˆfrom cacheï¼‰")]),t._v(" "),s("h3",{attrs:{id:"_1-1-expires-å·²é€æ­¥æ·˜æ±°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-expires-å·²é€æ­¥æ·˜æ±°"}},[t._v("#")]),t._v(" 1.1 Expiresï¼ˆå·²é€æ­¥æ·˜æ±°ï¼‰")]),t._v(" "),s("p",[t._v("Expiresæ˜¯HTTP/1.0ä¸­æåŠçš„ï¼Œè®©æœåŠ¡å™¨ä¸ºæ–‡ä»¶èµ„æºè®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œåœ¨å¤šé•¿æ—¶é—´å†…å¯ä»¥å°†è¿™äº›å†…å®¹æ˜¯ä¸ºæœ€æ–°çš„ï¼Œå…è®¸å®¢æˆ·ç«¯åœ¨è¿™ä¸ªæ—¶é—´ä¹‹å‰ä¸å»æ£€æŸ¥ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("æŒ‡å®šåˆ°æœŸæ—¶é—´")])]),t._v(" "),s("p",[t._v("æŒ‡å®šç¼“å­˜åˆ°æœŸGMTçš„ç»å¯¹æ—¶é—´ï¼Œå¦‚æœexpiresåˆ°æœŸéœ€è¦é‡æ–°è¯·æ±‚")]),t._v(" "),s("div",{staticClass:"language-code extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Expires: Sat, 09 Jun 2020 08:13:56 GMT\n")])])]),s("h3",{attrs:{id:"_1-2-cache-control-ä¸»è¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-cache-control-ä¸»è¦"}},[t._v("#")]),t._v(" 1.2 Cache-Control(ä¸»è¦)")]),t._v(" "),s("p",[t._v("ç›¸æ¯”expiresï¼ŒCache-Controlå¯ä»¥ç†è§£ä¸ºé«˜çº§ç‰ˆæœ¬çš„expiresï¼Œä¸ºäº†å¼¥è¡¥Expiresçš„ç¼ºé™·è€Œåœ¨Http1.1åè®®å¼•å…¥çš„ï¼Œå¼ºå¤§å¹¶ä¸”ä¼˜å…ˆçº§æ›´é«˜ï¼Œå³å½“Expireså’ŒCache-ControlåŒæ—¶å­˜åœ¨\næ—¶ï¼ŒCache-Controlä¼šè¦†ç›–Expiresçš„é…ç½®ï¼Œå³Cache-Controlï¼ˆHttp1.1ï¼‰> Expires(Http1.0)")]),t._v(" "),s("p",[t._v("Cache-Controlæ¯”Expireså…·å¤‡æ›´å¤šçš„å±æ€§ï¼Œå…¶ä¸­åŒ…æ‹¬å¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("no-cache: è¯¥å€¼ä¼šå‘½ä»¤æµè§ˆå™¨åœ¨æ¯æ¬¡ä½¿ç”¨ URL çš„ç¼“å­˜ç‰ˆæœ¬å‰éƒ½å¿…é¡»ä¸æœåŠ¡å™¨é‡æ–°éªŒè¯ã€‚(responseä¸­çš„no-cahe)")]),t._v(" "),s("li",[t._v("no-cache: è¯·æ±‚ä¸ä¼šå–ç¼“å­˜å†…å®¹ï¼Œä¹Ÿä¸å­˜åœ¨304,ä¸ä¼šå¸¦ä¸Šif-none-matchå­—æ®µ(requestä¸­çš„no-cache)")]),t._v(" "),s("li",[t._v("no-store: è¯¥å€¼ä¼šå‘½ä»¤æµè§ˆå™¨å’Œå…¶ä»–ä¸­é—´ç¼“å­˜ï¼ˆå¦‚ CDNï¼‰æ°¸è¿œä¸è¦å­˜å‚¨æ–‡ä»¶çš„ä»»ä½•ç‰ˆæœ¬ï¼Œåªèƒ½é€šè¿‡æœåŠ¡å™¨è·å–ã€‚")]),t._v(" "),s("li",[t._v("max-ageï¼šè®¾ç½®èµ„æºçš„è¿‡æœŸæ—¶é—´ï¼ˆæ•ˆæœä¸expiresä¸€æ ·ï¼‰")])]),t._v(" "),s("p",[t._v("ä¾‹å­æ¼”ç¤ºï¼š")]),t._v(" "),s("div",{staticClass:"language-code extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Cache-Control: max-age=31536000  // è®¾ç½®ç¼“å­˜æ—¶é—´ä¸º1å¹´\nexpires:Sat, Jun 2020 08:13:56 GMT // åŒæ—¶è®¾ç½®ä¸¤ä¸ª, Expiresä¼šå¤±æ•ˆ\n")])])]),s("p",[t._v("åˆ™æ„å‘³ç€æµè§ˆå™¨å¯ä»¥ç¼“å­˜ä¸€å¹´çš„æ—¶é—´ï¼Œæ— éœ€è¯·æ±‚æœåŠ¡å™¨ï¼Œå¦‚æœåŒæ—¶å£°æ˜Expireså’ŒCache-Control, Expireså°†å¤±æ•ˆã€‚")]),t._v(" "),s("p",[t._v("Cache-Control ä¸åŒçš„å€¼é€‚ç”¨çš„åœºæ™¯ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Cache-Control: no-cache")]),t._v(" é€‚ç”¨äºæ¯æ¬¡ä½¿ç”¨å‰åº”ä¸æœåŠ¡å™¨é‡æ–°éªŒè¯çš„èµ„æºã€‚")]),t._v(" "),s("li",[s("strong",[t._v("Cache-Control: no-store")]),t._v(" é€‚ç”¨äºæ°¸è¿œä¸è¦ç¼“å­˜çš„èµ„æºã€‚")]),t._v(" "),s("li",[s("strong",[t._v("Cache-Control: max-age=31536000")]),t._v("é€‚ç”¨äºç‰ˆæœ¬åŒ–çš„èµ„æºã€‚")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("ä½ å¯èƒ½ä¼šæœ‰ç–‘æƒ‘Cache-Control max-age=0å’Œno-cacheæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")])]),t._v(" "),s("p",[t._v("æœ¬è´¨ä¸Šå°±æ˜¯ä½ æŒ‰æµè§ˆå™¨åˆ·æ–°ä¸å¼ºåˆ¶åˆ·æ–°çš„åŒºåˆ†ï¼Œï¼ˆåˆ·æ–° => max-age=0ï¼Œå¼ºåˆ¶åˆ·æ–° => no-cacheï¼‰çœ‹ä¸‹ä¸€èŠ‚")]),t._v(" "),s("h3",{attrs:{id:"_1-3-ç”¨æˆ·å¯¹æµè§ˆå™¨çš„æ“ä½œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-ç”¨æˆ·å¯¹æµè§ˆå™¨çš„æ“ä½œ"}},[t._v("#")]),t._v(" 1.3 ç”¨æˆ·å¯¹æµè§ˆå™¨çš„æ“ä½œ")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("ç›¸ä¿¡ä½ ç¦»ä¸å¼€çš„æ“ä½œå°±æ˜¯F5(åˆ·æ–°æŒ‰é’®)ï¼Œä½†æ˜¯ä¸åŒçš„åˆ·æ–°æ“ä½œæ„å‘³ç€ä¸åŒçš„ååº”")])]),t._v(" "),s("ul",[s("li",[t._v("Ctrl + F5ï¼ˆå¼ºåˆ¶åˆ·æ–°ï¼‰: request headerå¤šäº†cache-control: no-cache")]),t._v(" "),s("li",[t._v("F5ï¼ˆåˆ·æ–°ï¼‰/ ctrl + Råˆ·æ–°: request headerå¤šäº†cache-control: max-age=0 ï¼ˆéœ€è¦å…ˆéªŒè¯æ‰å¯ä½¿ç”¨ç¼“å­˜ï¼ŒExpiresæ— æ•ˆï¼‰")])]),t._v(" "),s("h2",{attrs:{id:"_2-åå•†ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-åå•†ç¼“å­˜"}},[t._v("#")]),t._v(" 2.åå•†ç¼“å­˜")]),t._v(" "),s("p",[t._v("åå•†ç¼“å­˜ï¼Œå°±æ²¡æœ‰å¼ºç¼“å­˜é‚£ä¹ˆéœ¸é“ï¼Œåå•†ç¼“å­˜éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸¤ç«¯è¿›è¡Œäº¤äº’ï¼Œé€šè¿‡æœåŠ¡å™¨å‘ŠçŸ¥æµè§ˆå™¨ç¼“å­˜æ˜¯å¦å¯ç”¨ï¼Œå¹¶å¢åŠ ç¼“å­˜æ ‡è¯†ï¼Œ\nâ€œæœ‰äº‹å¥½å¥½å•†é‡â€ï¼Œ ä¸¤è€…éƒ½ä¼šäº’ç›¸åå•†ã€‚åå•†ç¼“å­˜ï¼Œå…¶å®å°±æ˜¯æœåŠ¡å™¨ä¸æµè§ˆå™¨äº¤äº’è¿‡ç¨‹ï¼Œä¸€èˆ¬æœ‰ä¸¤ä¸ªå›åˆï¼Œè€Œåå•†ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š")]),t._v(" "),s("h3",{attrs:{id:"_2-1-last-modified-http-1-0"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-last-modified-http-1-0"}},[t._v("#")]),t._v(" 2.1 Last-Modified (Http 1.0)")]),t._v(" "),s("ul",[s("li",[t._v("ç¬¬ä¸€å›åˆï¼šå½“æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨é€šè¿‡Last-Modifiedæ¥è®¾ç½®å“åº”å¤´çš„ç¼“å­˜æ ‡è¯†ï¼ŒæŠŠèµ„æºæœ€åä¿®æ”¹çš„æ—¶é—´ä½œä¸ºå€¼å†™å…¥ï¼Œ\nå†å°†èµ„æºè¿”å›ç»™æµè§ˆå™¨ã€‚")]),t._v(" "),s("li",[t._v("ç¬¬äºŒå›åˆï¼šç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå¸¦ä¸ŠIf-Modified-Since è¯·æ±‚å¤´å»è®¿é—®æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°† If-Modified-Since ä¸­æºå¸¦çš„æ—¶é—´ä¸èµ„æº\nä¿®æ”¹çš„æ—¶é—´å¯¹æ¯”ï¼Œå½“æ—¶é—´ä¸ä¸€è‡´æ—¶ï¼Œæ„å‘³ç€æ›´æ–°äº†ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›æ–°èµ„æºå¹¶æ›´æ–°Last-Modifiedï¼Œå½“æ—¶é—´ä¸€è‡´æ—¶ï¼Œæ„å‘³ç€èµ„æºæ²¡æœ‰æ›´æ–°ï¼Œ\næœåŠ¡å™¨ä¼šè¿”å›304çŠ¶æ€ç ï¼Œæµè§ˆå™¨å°†ä»ç¼“å­˜ä¸­è¯»å–èµ„æºã€‚")])]),t._v(" "),s("div",{staticClass:"language-code extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("//response header ç¬¬ä¸€å›åˆ\nLast-Modified: Wed, 21 Oct 2019 07:28:00 GMT\n//request header ç¬¬äºŒå›åˆ\nIf-Modified-Since: Wed, 21 Oct 2019 07:29:00 GMT \n")])])]),s("h3",{attrs:{id:"_2-2-etag-http-1-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-etag-http-1-1"}},[t._v("#")]),t._v(" 2.2 Etag (Http 1.1)")]),t._v(" "),s("p",[t._v("MDNä¸­æåˆ°Etagä¹‹é—´çš„æ¯”è¾ƒï¼Œä½¿ç”¨çš„æ˜¯å¼ºæ¯”è¾ƒç®—æ³•ï¼Œå³åªæœ‰åœ¨æ¯ä¸€ä¸ªå­—èŠ‚éƒ½ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ‰å¯ä»¥è®¤ä¸ºä¸¤ä¸ªæ–‡ä»¶æ˜¯ç›¸åŒçš„ï¼Œç”±æ–‡ä»¶çš„çš„ç´¢å¼•èŠ‚ã€å¤§å°å’Œ\næœ€åä¿®æ”¹æ—¶é—´è¿›è¡Œhashåå¾—åˆ°ä¸€ä¸ªhashå€¼ã€‚")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ç¬¬ä¸€å›åˆï¼š ä¹Ÿæ˜¯è·Ÿä¸Šæ–‡ä¸€æ ·ï¼Œæµè§ˆå™¨å»è¯·æ±‚æœåŠ¡å™¨èµ„æºï¼Œä¸è¿‡è¿™æ¬¡ä¸æ˜¯é€šè¿‡Last-Modifiedäº†ï¼Œè€Œæ˜¯ç”¨Etagæ¥è®¾ç½®å“åº”å¤´ç¼“å­˜æ ‡è¯†ã€‚Etagæ˜¯ç”±æœåŠ¡ç«¯ç”Ÿæˆçš„ï¼Œç„¶åæµè§ˆå™¨ä¼šå°†Etagä¸èµ„æºç¼“å­˜")])]),t._v(" "),s("li",[s("p",[t._v("ç¬¬äºŒå›åˆ:  æµè§ˆå™¨ä¼šå°† Etag æ”¾å…¥ If-None-Match è¯·æ±‚å¤´ä¸­å»è®¿é—®æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ”¶åˆ°åï¼Œä¼šå¯¹æ¯”ä¸¤ç«¯çš„æ ‡è¯†ï¼Œå½“ä¸¤è€…ä¸ä¸€è‡´æ—¶ï¼Œæ„å‘³ç€èµ„æºæ›´æ–°ï¼Œä¼šä»æœåŠ¡å™¨çš„å“åº”è¯»å–èµ„æºå¹¶æ›´æ–°Etagï¼Œæµè§ˆå™¨å°†ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œå½“ä¸¤è€…ä¸€è‡´æ—¶ï¼Œæ„å‘³ç€èµ„æºæ²¡æœ‰æ›´æ–°ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›304çŠ¶æ€ç ï¼Œæµè§ˆå™¨å°†ä»ç¼“å­˜ä¸­è¯»å–èµ„æº")])])]),t._v(" "),s("div",{staticClass:"language-code extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('//response header ç¬¬ä¸€å›åˆ\nETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"\n//request header ç¬¬äºŒå›åˆ\nIf-None-Match: "33a64df551425fcc55e4d42a148795d9f25f89d4"\n')])])]),s("p",[t._v("å¯¹æ¯”å®Œ Last-Modified ä¸ Etagï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ˜¾ç„¶çœ‹åˆ°ï¼Œåå•†ç¼“å­˜æ¯æ¬¡è¯·æ±‚éƒ½ä¼šä¸æœåŠ¡å™¨å‘ç”Ÿâ€œå…³ç³»â€ï¼Œç¬¬ä¸€å›åˆéƒ½æ˜¯æ‹¿æ•°æ®å’Œæ ‡è¯†ï¼Œè€Œç¬¬äºŒå›åˆå°±æ˜¯æµè§ˆå™¨â€œå’¨è¯¢â€æœåŠ¡å™¨æ˜¯å¦èµ„æºå·²ç»æ›´æ–°çš„è¿‡ç¨‹ã€‚")]),t._v(" "),s("p",[t._v("åŒæ—¶ï¼Œå¦‚æœä»¥ä¸Šä¸¤ç§æ–¹å¼åŒæ—¶ä½¿ç”¨ï¼ŒEtag ä¼˜å…ˆçº§ä¼šæ›´é«˜ï¼Œå³ Etag( Http 1.1 ) > Last-Modified ( Http 1.0 )")]),t._v(" "),s("h2",{attrs:{id:"_3-ç¼“å­˜çŠ¶æ€ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç¼“å­˜çŠ¶æ€ç "}},[t._v("#")]),t._v(" 3.ç¼“å­˜çŠ¶æ€ç ")]),t._v(" "),s("h3",{attrs:{id:"_3-1-çŠ¶æ€ç 200-ok-from-cache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-çŠ¶æ€ç 200-ok-from-cache"}},[t._v("#")]),t._v(" 3.1 çŠ¶æ€ç 200 OKï¼ˆfrom cacheï¼‰")]),t._v(" "),s("p",[t._v("è¿™æ˜¯æµè§ˆå™¨æ²¡æœ‰è·ŸæœåŠ¡å™¨ç¡®è®¤ï¼Œç›´æ¥ç”¨äº†æµè§ˆå™¨ç¼“å­˜ï¼Œæ€§èƒ½æœ€å¥½çš„ï¼Œæ²¡æœ‰ç½‘ç»œè¯·æ±‚ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Ÿä¸€èˆ¬åœ¨expiresæˆ–è€… Cache-Control ä¸­çš„max-ageå¤´éƒ¨æœ‰æ•ˆæ—¶ä¼šå‘ç”Ÿã€‚")]),t._v(" "),s("h3",{attrs:{id:"_3-2-çŠ¶æ€ç 304-not-modified"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-çŠ¶æ€ç 304-not-modified"}},[t._v("#")]),t._v(" 3.2 çŠ¶æ€ç 304 Not Modified")]),t._v(" "),s("p",[t._v("æ˜¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨â€œäº¤æµâ€äº†ï¼Œç¡®å®šä½¿ç”¨ç¼“å­˜åï¼Œå†ç”¨ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒèŠ‚è®²çš„é€šè¿‡Etagæˆ–Last-Modifiedçš„ç¬¬äºŒå›åˆä¸­å¯¹æ¯”ï¼Œå¯¹æ¯”ä¸¤è€…ä¸€è‡´ï¼Œåˆ™æ„å‘³èµ„æºä¸æ›´æ–°ï¼Œåˆ™æœåŠ¡å™¨è¿”å›304çŠ¶æ€ç ")]),t._v(" "),s("h3",{attrs:{id:"_3-3-çŠ¶æ€ç -200"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-çŠ¶æ€ç -200"}},[t._v("#")]),t._v(" 3.3 çŠ¶æ€ç  200")]),t._v(" "),s("p",[t._v("ä»¥ä¸Šä¸¤ç§ç¼“å­˜å…¨éƒ½å¤±è´¥ï¼Œä¹Ÿå°±æ˜¯æœªç¼“å­˜æˆ–è€…ç¼“å­˜æœªè¿‡æœŸï¼Œéœ€è¦æµè§ˆå™¨å»è·å–æœ€æ–°çš„èµ„æºï¼Œæ•ˆç‡æœ€ä½ ä¸€å¥è¯ï¼šç¼“å­˜æ˜¯å¦è¿‡æœŸç”¨ï¼šCache-Controlï¼ˆmax-ageï¼‰, Expiresï¼Œç¼“å­˜æ˜¯å¦æœ‰æ•ˆç”¨ï¼šLast-Modifiedï¼ŒEtag")]),t._v(" "),s("h2",{attrs:{id:"_4-ç¼“å­˜çš„åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç¼“å­˜çš„åº”ç”¨"}},[t._v("#")]),t._v(" 4.ç¼“å­˜çš„åº”ç”¨")]),t._v(" "),s("p",[t._v("è®²è¿°ç¼“å­˜åœ¨æˆ‘ä»¬å¼€å‘ä¸­æœ€å¸¸è§çš„ä½¿ç”¨")]),t._v(" "),s("h3",{attrs:{id:"_4-1-vueä¸­ç¼“å­˜çš„åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-vueä¸­ç¼“å­˜çš„åº”ç”¨"}},[t._v("#")]),t._v(" 4.1 Vueä¸­ç¼“å­˜çš„åº”ç”¨")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("keepAlive")]),t._v(" "),s("p",[t._v("vueå®˜æ–¹æ–‡æ¡£æåˆ°ï¼Œå½“åœ¨è¿™äº›ç»„ä»¶ä¹‹é—´åˆ‡æ¢çš„æ—¶å€™ï¼Œä½ æœ‰æ—¶ä¼šæƒ³ä¿æŒè¿™äº›ç»„ä»¶çš„çŠ¶æ€ï¼Œä»¥é¿å…åå¤é‡æ¸²æŸ“å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¸Œæœ›é‚£äº›æ ‡ç­¾çš„ç»„ä»¶å®ä¾‹èƒ½å¤Ÿè¢«åœ¨å®ƒä»¬ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºçš„æ—¶å€™ç¼“å­˜ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª  å…ƒç´ å°†å…¶åŠ¨æ€ç»„ä»¶åŒ…è£¹èµ·æ¥ã€‚")]),t._v(" "),s("p",[t._v("ä¸»è¦ç”¨äºä¿ç•™ç»„ä»¶çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿæ„å‘³ç€ä¸ä¼šå†èµ°mountedï¼ŒbeforeDestroyå‡½æ•°ï¼Œç»„ä»¶å°†è¢«ç¼“å­˜ï¼Œä¸ç”¨é”€æ¯é‡æ–°æ¸²æŸ“ï¼Œæ€§èƒ½æ¯”è¾ƒå¥½")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// router.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Router")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/views/test/test.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("meta")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æµ‹è¯•'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("keepAlive")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// App.vue")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("keep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$route.meta.keepAlive'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("view"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("view"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("keep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("view v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'!$route.meta.keepAlive'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("view"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("ç»„ä»¶ç¼“å­˜")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("keep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("component v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bind"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"currentTabComponent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("keep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("alive"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("æ‰“åŒ…åŠ å…¥hash")])]),t._v(" "),s("p",[t._v("å‰ç«¯å·¥ç¨‹åŒ–å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨ Webpack ç¼–è¯‘ï¼Œæ‰“åŒ…çš„èµ„æºæ–‡ä»¶è·¯å¾„é‡Œè‡ªåŠ¨å¸¦æœ‰ä¸€ä¸²éšæœºå­—ç¬¦ä¸²ï¼Œç§°ä¸º hash")]),t._v(" "),s("p",[t._v("åœ¨vue cliè„šæ‰‹æ¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®vue.config.js(æœ¬è´¨ä¸Šæ˜¯é…ç½®webpack)æ¥è®¾ç½®ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶å…·å¤‡hashå€¼ï¼Œæ„å‘³ç€æ¯æ¬¡æ‰“åŒ…ç¼–è¯‘çš„æ–‡ä»¶éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ¥é˜²æ­¢å› ä¸ºç¼“å­˜ï¼Œå¯¼è‡´èµ„æºæ²¡æœ‰æ›´æ–°")]),t._v(" "),s("p",[t._v("Vue-Cli 3xç‰ˆæœ¬")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue.config.js")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filenameHashing")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("chainWebpack")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[name].[hash].js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_4-2-nginxçš„ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-nginxçš„ç¼“å­˜"}},[t._v("#")]),t._v(" 4.2 Nginxçš„ç¼“å­˜")]),t._v(" "),s("ul",[s("li",[t._v("é…ç½®expires")])]),t._v(" "),s("p",[t._v("å‡è®¾æˆ‘æƒ³é€šè¿‡webåº”ç”¨çš„å›¾ç‰‡ç¼“å­˜ä¸€å‘¨ï¼Œé‚£ä½ å¯ä»¥åœ¨nginxä¸­é…ç½®å¦‚ä¸‹ğŸ‘‡ï¼Œé…ç½®å®Œä¹‹åä¸€å‘¨ä¹‹å†…çš„èµ„æºåªä¼šè®¿é—®æµè§ˆå™¨çš„èµ„æºï¼Œè€Œä¸æ˜¯å»è¯·æ±‚Nginx")]),t._v(" "),s("div",{staticClass:"language-code extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("location ~ \\.(gif|jpg|jpeg|png)$ {\n        root  /var/mywww/html/public/\n        expires 7d;  //è¡¨ç¤ºæŠŠæ•°æ®ç¼“å­˜7å¤©ï¼Œdï¼šå¤©ï¼Œsï¼šç§’ï¼Œmï¼šåˆ†\n}\n")])])]),s("ul",[s("li",[t._v("è®¾ç½® etag")])]),t._v(" "),s("div",{staticClass:"language-code extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("location ~ \\.(gif|jpg|jpeg|png)$ {\n        root  /var/mywww/html/public/\n        etag  off;  // é»˜è®¤æ˜¯å¼€å¯ on\n}\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);